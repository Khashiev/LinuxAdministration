## Part 1. Установка ОС

- Смотрим версию Ubuntu после установки \
![](images/task-1.1.png)

## Part 2. Создание пользователя

- Создаем пользователя и добавляем его в группу adm \
![](images/task-2.1.png)

- Вывод команды ``cat /etc/passwd`` \
![](images/task-2.2.png)

## Part 3. Настройка сети ОС

- Задаем новое название машины вида user-1 \
![](images/task-3.1.png)

- Устанавливаем временную зону \
![](images/task-3.2.png)

- Выводим названия сетевых интерфейсов \
![](images/task-3.3.png) \
**lo (loopback device)** – *виртуальный интерфейс, присутствующий по умолчанию в любом Linux. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost*

- Получение ip адреса данного устройства от DHCP сервера \
![](images/task-3.4.png) \
**Протокол DHCP** *(Dynamic Host Configuration Protocol - протокол динамической настройки узла)*

- Выводим внешний IP-адрес \
![](images/task-3.5.png)

- Выводим внутренний IP-адрес шлюза \
![](images/task-3.6.png)

- Задаём статичные настройки ip, gw, dns в файле ``/etc/netplan/00-installer-config.yaml`` \
![](images/task-3.7.png)

- потвержаем изменения и перезагружаем виртуальную машину \
![](images/task-3.8.png)

- Проверяем изменения \
![](images/task-3.9.png)

- Пропингуем удаленные хосты 1.1.1.1 и ya.ru \
![](images/task-3.10.png)

## Part 4. Обновление ОС

- Обновляем OS \
![](images/task-4.1.png)

## Part 5. Использование команды sudo

- Разрешаем пользователю, созданному в Part 2, выполнять команду sudo \
![](images/task-5.1.png) \
**sudo** - *позволяет временно поднимать привилегии и выполнять задачи администрирования системы с максимальными правами*

- Меняем hostname \
![](images/task-5.2.png)

## Part 6. Установка и настройка службы времени

- Вывод команды с корректным временем \
![](images/task-6.1.png)

## Part 7. Установка и использование текстовых редакторов 

- Создание файла, выход с сохранением 

**vim** (ESC -> :wq filename) \
![](images/task-7.1.png) \

**nano** (^o -> filename -> ^x) \
![](images/task-7.2.png) \

**joe** (^kx -> filename) \
![](images/task-7.3.png)

- Внесение изменений в файл, выход без сохранения 

**vim** (ESC -> :q!)
![](images/task-7.4.png) \

**nano** (^x -> n) \
![](images/task-7.5.png) \

**joe** (^c -> y) \
![](images/task-7.6.png)

- Поиск, замена

**vim** (/что ищем, :s/что заменить/чем)
![](images/task-7.7.png) \
![](images/task-7.8.png) \

**nano** (^w -> что ищем, ^\ -> что заменить -> чем -> y)
![](images/task-7.9.png) \
![](images/task-7.10.png) \

**joe** (^k f -> что ищем -> i, ^k f -> что заменить -> r -> чем -> y)
![](images/task-7.11.png) \
![](images/task-7.12.png) 

## Part 8. Установка и базовая настройка сервиса SSHD

- Устанавливаем службу SSHd ``sudo apt-install ssh``
- Добавляем автостарт службы при запуске системы ``sudo systemctl enable ssh``
- Перенастраиваем службу SSHd на порт 2022 \
![](images/task-8.1.png)
- Отображаем наличие процесса \
![](images/task-8.2.png) \
**ps** - *выводит сведения о процессах в статическом виде* \
**-e** - *позволяет выбрать все процессы* \
**| grep sshd** - *поиск по выводу через пайп* 

- Перезагружаем систему ``reboot``
- Вывод команды ``netstat -tan`` \
![](images/task-8.3.png) \

**-tan:** \
  -a - *Показывает состояние всех сокетов* \
  -n - *Показывает ip адрес, а не сетевое имя* \
  -i - *Показывает состояние сетевых интерфейсов* \
  -r - *Показывает таблицы маршрутизации* \
  -s - *Показывает статистическую информацию по протоколам* \
  -l - *Показывает информацию о конкретном интерфейсе* \
  -p - *Отображает идентификатор/название процесса, создавшего сокет* \
  -f - *Ограничивает показ статистики или адресов управляющих блоков* \
  -o - *выводит активных подключений TCP и включение кода процесса (PID) для каждого подключения* \

**Proto** - *Содержит тип протокола* \
**Recv-Q** - *Счётчик байтов не скопированных программой пользователя из этого сокета* \
**Send-Q** - *Счётчик байтов, не подтверждённых удалённым узлом* \
**Local Address** - *Адрес и номер порта локального конца сокета* \
**Foreign Address** - *Адрес и номер порта удалённого конца сокета* \
**State** - *Состояние сокета* \
**0.0.0.0** - *немаршрутизируемый адрес IPv4 (по умолчанию)* 

## Part 9. Установка и использование утилит top, htop

- Uptime: 5 min
- 1 user
- Load average: 0.01, 0.06, 0.04
- Tasks: 94 total
- %Cpu(s): 1.7 us, 1.3 sy, 0.0 ni, 96.3 id, 0.3 wa, 0.0 hi, 0.0 si, 0.0 st
- MiB Mem: 1971.4 total, 1073.6 free, 159.1 used, 728.7 buff/cache
- PID 1077
- PID 1077

- htop сортировка по PID \
![](images/task-9.1.png) 

- htop сортировка по PERCENT_CPU \
![](images/task-9.2.png) 

- htop сортировка по PERCENT_MEM \
![](images/task-9.3.png) 

- htop сортировка по TIME \
![](images/task-9.4.png) 

- htop фильтр по процессу sshd \
![](images/task-9.5.png) 

- htop поиск процесса syslog \
![](images/task-9.6.png) 

- htop с добавленным выводом hostname, clock и uptime \
![](images/task-9.7.png) 


## Part 10. Использование утилиты fdisk

- Disk /dev/sda, size: 10 GiB, sectors: 20971520, swap: 1517564 \
![](images/task-10.1.png) 

## Part 11. Использование утилиты df

- ``df (KB)`` \
![](images/task-11.1.png) \

- ``df -Th (ext4)`` \
![](images/task-11.2.png) 

## Part 12. Использование утилиты du

- Выводим размер папок /home, /var, /var/log (в байтах, в человекочитаемом виде) \
![](images/task-12.1.png) 

- Выводим размер всего содержимого в /var/log \
![](images/task-12.2.png) 

## Part 13. Установка и использование утилиты ncdu

- Выводим размер папок /home, /var, /var/log \
![](images/task-13.1.png) \
![](images/task-13.2.png) \
![](images/task-13.3.png) \

## Part 14. Работа с системными журналами

- Время последней успешной авторизации, имя пользователя и метод входа в систему \
![](images/task-14.1.png) 

- Перезапуск службы SSHd \
![](images/task-14.2.png) 

## Part 15. Использование планировщика заданий CRON

- Используя планировщик заданий, запускаем команду uptime через каждые 2 минуты \ 
![](images/task-15.1.png) 

- Находим в syslog  uptime, выводим список текущих заданий для CRON, удаляем все задачи \
![](images/task-15.2.png) 

